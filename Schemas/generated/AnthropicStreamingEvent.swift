//
//  AnthropicStreamingEvent.swift
//
//  Generated by api-schema-generate
//

import Foundation

nonisolated public enum AnthropicStreamingEvent: Decodable, Sendable {
    case contentBlockDelta(AnthropicContentBlockDelta)
    case contentBlockStart(AnthropicContentBlockStart)
    case contentBlockStop(AnthropicContentBlockStop)
    case messageDelta(AnthropicMessageDelta)
    case messageStart(AnthropicMessageStart)
    case messageStop(AnthropicMessageStop)

    /// Unknown variant for future compatibility
    case futureProof

    private enum CodingKeys: String, CodingKey {
        case type
    }

    public init(from decoder: Decoder) throws {
        let container = try decoder.container(keyedBy: CodingKeys.self)
        let type = try container.decode(String.self, forKey: .type)

        switch type {
        case "content_block_delta":
            self = .contentBlockDelta(try AnthropicContentBlockDelta(from: decoder))
        case "content_block_start":
            self = .contentBlockStart(try AnthropicContentBlockStart(from: decoder))
        case "content_block_stop":
            self = .contentBlockStop(try AnthropicContentBlockStop(from: decoder))
        case "message_delta":
            self = .messageDelta(try AnthropicMessageDelta(from: decoder))
        case "message_start":
            self = .messageStart(try AnthropicMessageStart(from: decoder))
        case "message_stop":
            self = .messageStop(try AnthropicMessageStop(from: decoder))
        default:
            self = .futureProof
        }
    }
}
